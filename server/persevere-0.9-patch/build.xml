<?xml version="1.0" encoding="utf-8"?>
<!-- $Id: build.xml 38 2011-03-18 05:41:28Z taruss2000@gmail.com $
  Build script for compiling a bug fix for persevere 0.9 that fixes a directory
  lookup problem for Windows and Mac systems.

  Contains the following targets:
    compile     - compiles the patch.
    clean       - removes the compiled files
  -->
<project name="Persevere Fix" basedir="." default="compile">
    <property name="SRC_DIR" location="src"/>
    <property name="LIB_DIR" location="lib"/>
    <property name="BIN_DIR" location="classes"/>

    <path id="lib.jars">
      <fileset dir="${LIB_DIR}" includes="**/*.jar"/>
    </path>

    <target name="init">
      <tstamp>
	<format property="YEAR" pattern="yyyy"/>
      </tstamp>
      <!--  <echoproperties/> -->
    </target>

    <target name="compile" depends="init">
      <mkdir dir="${BIN_DIR}"/>
      <javac srcdir="${SRC_DIR}"
	     destdir="${BIN_DIR}"
	     classpathref="lib.jars"
	     includeAntRuntime="false"/>
      <!-- And copy the source file to the output as well. -->
      <copy todir="${BIN_DIR}">
	<fileset dir="${SRC_DIR}" excludes="**/.svn"/>
      </copy>
    </target>

    <target name="clean"
	    description="clean up" >
      <!-- Delete the directory trees that get generated by this script. -->
      <delete dir="${BIN_DIR}"/>
    </target>

</project>


